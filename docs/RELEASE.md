# Release Guide

## Creating Releases

### Prerequisites

- Git repository access
- GitHub account with write access
- Windows build environment (for Windows binaries)

### Release Process

#### 1. Version Numbering

We use [Semantic Versioning](https://semver.org/):
- **MAJOR.MINOR.PATCH** (e.g., 1.0.0)
- MAJOR: Breaking changes
- MINOR: New features (backwards compatible)
- PATCH: Bug fixes

#### 2. Update Version Numbers

Update version in:
- `agent/setup.py`
- `frontend/package.json`
- `backend/server.py` (if versioned)

#### 3. Update Changelog

Document changes in `CHANGELOG.md`:
- New features
- Bug fixes
- Breaking changes
- Deprecations

#### 4. Create Release Tag

```bash
# Update version numbers first
git add .
git commit -m "chore: bump version to X.Y.Z"
git tag -a vX.Y.Z -m "Release vX.Y.Z"
git push origin main
git push origin vX.Y.Z
```

#### 5. Build Windows Binaries

```bash
# On Windows machine
cd agent
build_windows.bat
build_kernel_agent.bat
```

This creates:
- `dist/cif-agent.exe`
- `dist/cif-kernel-agent.exe`

#### 6. Create GitHub Release

1. Go to GitHub Releases page
2. Click "Draft a new release"
3. Select tag: `vX.Y.Z`
4. Title: `Release vX.Y.Z`
5. Description: Copy from CHANGELOG.md
6. Upload binaries:
   - `cif-agent.exe`
   - `cif-kernel-agent.exe`
7. Mark as "Latest release" if applicable
8. Publish release

### Release Assets

Each release should include:

- **Source code** (zip/tar.gz) - Auto-generated by GitHub
- **Windows Agent Binary** (`cif-agent.exe`)
- **Windows Kernel Agent Binary** (`cif-kernel-agent.exe`)
- **Release Notes** (CHANGELOG.md section)

### Automated Releases

GitHub Actions workflow (`.github/workflows/release.yml`) can automate:
- Version bumping
- Building binaries
- Creating tags
- Publishing releases

### Release Checklist

- [ ] Update version numbers
- [ ] Update CHANGELOG.md
- [ ] Run tests
- [ ] Build Windows binaries
- [ ] Test binaries
- [ ] Create git tag
- [ ] Push tag to GitHub
- [ ] Create GitHub release
- [ ] Upload binaries
- [ ] Write release notes
- [ ] Announce release

### Release Notes Template

```markdown
## Release vX.Y.Z

### Added
- Feature 1
- Feature 2

### Changed
- Improvement 1

### Fixed
- Bug fix 1
- Bug fix 2

### Security
- Security fix (if applicable)

### Downloads
- [Windows Agent Binary](link)
- [Windows Kernel Agent Binary](link)
```

